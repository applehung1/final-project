{"version":3,"file":"js/896.c69e35a4.js","mappings":"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","sources":["webpack://final-project/./src/views/UserFavorite.vue","webpack://final-project/./src/views/UserFavorite.vue?f10e"],"sourcesContent":["<template>\r\n    <Loading :active=\"isLoading\"></Loading>\r\n    <!-- 收藏清單 -->\r\n    <div class=\"col-md-10 mx-auto\">\r\n      <div v-if=\"filteredFavorites().length > 0\">\r\n        <hr>\r\n        <p>收藏清單</p>\r\n        <hr>\r\n        <!-- 商品列表 -->\r\n        <div class=\"row\">\r\n          <div class=\"col-md-4\" v-for=\"item in filteredFavorites()\" :key=\"item.id\">\r\n            <div class=\"product-card\">\r\n              <div class=\"product-image\"\r\n                   :style=\"{backgroundImage: `url(${item.imageUrl})`}\"\r\n                   @click=\"getProduct(item.id)\">\r\n              </div>\r\n              <div class=\"product-info\">\r\n                <div class=\"product-info-list\">\r\n                  <p @click=\"getProduct(item.id)\">{{ item.title }}</p>\r\n                  <div class=\"price\" @click=\"getProduct(item.id)\">\r\n                    <div class=\"h5\" v-if=\"!item.price\">{{ item.origin_price }} 元</div>\r\n                    <del class=\"h6\" v-if=\"item.price\">原價 {{ item.origin_price }} 元</del>\r\n                    <div class=\"h7\" v-if=\"item.price\">單價 {{ item.price }} 元</div>\r\n                  </div>\r\n                </div>\r\n                <i class=\"bi bi-suit-heart-fill\" @click=\"removeFromFavorites(item.id)\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else>\r\n        <p>目前沒有收藏清單</p>\r\n      </div>\r\n    </div>\r\n  </template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      favoriteList: [],\r\n      products: [], // 儲存所有產品\r\n      isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    loadFavorites () {\r\n      // 從 localStorage 讀取收藏項目\r\n      const savedFavorites = JSON.parse(localStorage.getItem('favoriteItems')) || []\r\n      this.favoriteList = savedFavorites\r\n      console.log('從 localStorage 加載收藏清單', this.favoriteList)\r\n    },\r\n    getProducts () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.isLoading = true\r\n      this.$http.get(url)\r\n        .then((response) => {\r\n          this.products = response.data.products\r\n          console.log('products:', response)\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    filteredFavorites () {\r\n      return this.products.filter(product => this.favoriteList.includes(product.id))\r\n    },\r\n    getProduct (id) {\r\n      this.$router.push(`/user/product/${id}`)\r\n    },\r\n    removeFromFavorites (id) {\r\n      // 從 favoriteList 中移除指定項目\r\n      this.favoriteList = this.favoriteList.filter(favId => favId !== id)\r\n      // 更新 localStorage\r\n      localStorage.setItem('favoriteItems', JSON.stringify(this.favoriteList))\r\n      console.log('移除收藏清單', this.favoriteList)\r\n    }\r\n  },\r\n  created () {\r\n    this.loadFavorites()\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.product_grid {\r\n    cursor: pointer;\r\n}\r\n.product-card {\r\n  cursor: pointer;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  margin-bottom: 20px;\r\n  padding: 15px;\r\n  text-align: left;\r\n}\r\n\r\n.product-image {\r\n  height: 250px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  border-radius: 5px;\r\n}\r\n\r\n.product-info {\r\n  margin-top: 10px;\r\n}\r\n.product-info {\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n.price .h5 {\r\n  font-size: 1.25rem;\r\n}\r\n\r\n.price .h6 {\r\n  font-size: 1rem;\r\n  color: #888;\r\n}\r\n.product-card .bi {\r\n    color: #888;\r\n}\r\n\r\n</style>\r\n","import { render } from \"./UserFavorite.vue?vue&type=template&id=b30b8124\"\nimport script from \"./UserFavorite.vue?vue&type=script&lang=js\"\nexport * from \"./UserFavorite.vue?vue&type=script&lang=js\"\n\nimport \"./UserFavorite.vue?vue&type=style&index=0&id=b30b8124&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementVNode","_hoisted_18","_createElementBlock","_Fragment","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","$options","filteredFavorites","length","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_renderList","item","id","_hoisted_7","style","_normalizeStyle","backgroundImage","imageUrl","onClick","$event","getProduct","_hoisted_8","_hoisted_9","_hoisted_10","title","_hoisted_11","price","_createCommentVNode","_hoisted_13","_toDisplayString","origin_price","_hoisted_14","_hoisted_15","_hoisted_12","removeFromFavorites","_hoisted_16","_hoisted_17","_hoisted_19","data","favoriteList","products","methods","loadFavorites","savedFavorites","JSON","parse","localStorage","getItem","this","console","log","getProducts","url","$http","get","then","response","filter","product","includes","$router","push","favId","setItem","stringify","created","__exports__","render"],"sourceRoot":""}