"use strict";(self["webpackChunkfinal_project"]=self["webpackChunkfinal_project"]||[]).push([[896],{5896:function(i,t,e){e.r(t),e.d(t,{default:function(){return P}});var s=e(6768),o=e(4232);const r={class:"col-md-10 mx-auto"},l={key:0},c=(0,s.Lk)("hr",null,null,-1),a=(0,s.Lk)("p",null,"收藏清單",-1),u=(0,s.Lk)("hr",null,null,-1),d={class:"row"},n={class:"product-card"},v=["onClick"],p={class:"product-info"},h={class:"product-info-list"},k=["onClick"],g=["onClick"],f={key:0,class:"h5"},L={key:1,class:"h6"},C={key:2,class:"h7"},m=["onClick"],F={key:1},y=(0,s.Lk)("p",null,"目前沒有收藏清單",-1),E=[y];function X(i,t,e,y,X,_){const b=(0,s.g2)("Loading");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(b,{active:X.isLoading},null,8,["active"]),(0,s.Lk)("div",r,[_.filteredFavorites().length>0?((0,s.uX)(),(0,s.CE)("div",l,[c,a,u,(0,s.Lk)("div",d,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(_.filteredFavorites(),(i=>((0,s.uX)(),(0,s.CE)("div",{class:"col-md-4",key:i.id},[(0,s.Lk)("div",n,[(0,s.Lk)("div",{class:"product-image",style:(0,o.Tr)({backgroundImage:`url(${i.imageUrl})`}),onClick:t=>_.getProduct(i.id)},null,12,v),(0,s.Lk)("div",p,[(0,s.Lk)("div",h,[(0,s.Lk)("p",{onClick:t=>_.getProduct(i.id)},(0,o.v_)(i.title),9,k),(0,s.Lk)("div",{class:"price",onClick:t=>_.getProduct(i.id)},[i.price?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",f,(0,o.v_)(i.origin_price)+" 元",1)),i.price?((0,s.uX)(),(0,s.CE)("del",L,"原價 "+(0,o.v_)(i.origin_price)+" 元",1)):(0,s.Q3)("",!0),i.price?((0,s.uX)(),(0,s.CE)("div",C,"單價 "+(0,o.v_)(i.price)+" 元",1)):(0,s.Q3)("",!0)],8,g)]),(0,s.Lk)("i",{class:"bi bi-suit-heart-fill",onClick:t=>_.removeFromFavorites(i.id)},null,8,m)])])])))),128))])])):((0,s.uX)(),(0,s.CE)("div",F,E))])],64)}e(4114);var _={data(){return{favoriteList:[],products:[],isLoading:!1}},methods:{loadFavorites(){const i=JSON.parse(localStorage.getItem("favoriteItems"))||[];this.favoriteList=i,console.log("從 localStorage 加載收藏清單",this.favoriteList)},getProducts(){const i="https://vue3-course-api.hexschool.io/api/applehung1-api/products/all";this.isLoading=!0,this.$http.get(i).then((i=>{this.products=i.data.products,console.log("products:",i),this.isLoading=!1}))},filteredFavorites(){return this.products.filter((i=>this.favoriteList.includes(i.id)))},getProduct(i){this.$router.push(`/user/product/${i}`)},removeFromFavorites(i){this.favoriteList=this.favoriteList.filter((t=>t!==i)),localStorage.setItem("favoriteItems",JSON.stringify(this.favoriteList)),console.log("移除收藏清單",this.favoriteList)}},created(){this.loadFavorites(),this.getProducts()}},b=e(1241);const I=(0,b.A)(_,[["render",X]]);var P=I}}]);
//# sourceMappingURL=896.c69e35a4.js.map