{"version":3,"file":"js/432.2aebc538.js","mappings":"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","sources":["webpack://final-project/./src/views/UserList.vue","webpack://final-project/./src/views/UserList.vue?1332"],"sourcesContent":["<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"container\">\r\n    <div class=\"container-inside\">\r\n      <aside id=\"sidebar\" class=\"left-sidebar col-md-3\">\r\n        <h4 class=\"widget-title\">購買花禮Online Shop</h4>\r\n        <hr>\r\n        <div class='search-area'>\r\n          <input type=\"text\" class=\"form-control\" name=\"name\"\r\n        placeholder=\"(請輸入商品名稱)\"\r\n        v-model=\"searchQuery\">\r\n          <i class=\"bi bi-search search-icon\" @click=\"performSearch\"></i> <!-- 新增搜尋按鈕 -->\r\n        </div>\r\n            <div class=\"widget_categories\">\r\n              <ul>\r\n                <li v-for=\"(item, index) in uniqueCategories\" :key=\"index\"\r\n                :class=\"{ active: item === activeCategory }\">\r\n                  <a href=\"#\" @click.prevent=\"filterByCategory(item)\">\r\n                    {{ item }}\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n      </aside>\r\n      <div class=\"col-md-9\">\r\n        <header class=\"content-top clearfix\">\r\n          <h1 class=\"main-title\">購買花禮Online Shop</h1>\r\n          <div class=\"content-top-right\">\r\n            <div class=\"sort-block\">\r\n              <label for=\"sortOrder\">排序方式：</label>\r\n                <select id=\"sortOrder\" class=\"form-select\" v-model=\"selectedSortOrder\" @change=\"sortProducts\">\r\n                  <option value=\"\" disabled>請選擇排序方式</option>\r\n                  <option value=\"priceAsc\">價格由低到高</option>\r\n                  <option value=\"priceDesc\">價格由高到低</option>\r\n                </select>\r\n            </div>\r\n            <ul class=\"breadcrumb\">\r\n              <li><router-link class=\"home-router-li\" to=\"/\">首頁</router-link></li>\r\n              <li>/</li>\r\n              <li>購買花禮Online Shop</li>\r\n            </ul>\r\n          </div>\r\n        </header>\r\n        <hr>\r\n        <div class=\"product-grid\">\r\n          <!-- 修改 v-for 循環，使用 filteredProducts -->\r\n          <div class=\"product-item\" v-for=\"item in filteredProducts\" :key=\"item.id\">\r\n            <div class=\"product-item-list\">\r\n              <div style=\"height: 180px; background-size: cover; background-position: center\"\r\n                   :style=\"{backgroundImage: `url(${item.imageUrl})`}\"\r\n                   @click=\"getProduct(item.id)\"></div>\r\n                   <div class=\"title-cart\">\r\n                        <p @click=\"getProduct(item.id)\">{{ item.title }}</p>\r\n                        <div class=\"actions\">\r\n                          <button type=\"button\" class=\"btn\"\r\n                              :disabled=\"this.status.loadingItem === item.id\"\r\n                              @click=\"addCart(item.id)\">\r\n                          <div v-if=\"this.status.loadingItem === item.id\" class=\"spinner-grow spinner-grow-sm text-danger\" role=\"status\">\r\n                              <span class=\"visually-hidden\">Loading...</span>\r\n                          </div>\r\n                              <i class=\"bi bi-cart-fill\"></i>\r\n                          </button>\r\n                          <i\r\n                            :class=\"favoriteItems.includes(item.id) ? 'bi bi-suit-heart-fill' : 'bi bi-suit-heart'\"\r\n                            @click=\"addFavorite(item.id)\"\r\n                          ></i>\r\n                        </div>\r\n                   </div>\r\n              </div>\r\n              <div class=\"price\">\r\n                <div class=\"h5\" v-if=\"!item.price\">{{ item.origin_price }} </div>\r\n                <del class=\"h6\" v-if=\"item.price\">$ {{ item.origin_price }} </del>\r\n                <div class=\"h7\" v-if=\"item.price\">$ {{ item.price }} </div>\r\n              </div>\r\n          </div>\r\n          <!-- 動態添加占位符 -->\r\n          <div\r\n            v-for=\"n in (3 - (filteredProducts.length % 3))\"\r\n            :key=\"`placeholder-${n}`\"\r\n            class=\"product-placeholder\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n      <!-- 購物車列表 -->\r\n      <!-- form -->\r\n      <div class=\"my-5 row justify-content-center\"></div>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n/* *{outline: 1px solid #000;} */\r\n.container-inside {\r\n  display: flex;\r\n}\r\n.left-sidebar hr {\r\n  width: 86%;\r\n  margin-left: 32px; /* 往右移 */\r\n}\r\n\r\n.search-area {\r\n  margin-left: 32px;\r\n  position: relative; /* 讓子元素相對於父元素定位 */\r\n  display: flex;\r\n}\r\n\r\n.search-area input {\r\n  padding-right: 30px; /* 為輸入框添加內邊距，避免文字與圖示重疊 */\r\n  border-radius: 0;\r\n  width: 278px;\r\n  height: 45px;\r\n}\r\n.search-icon {\r\n  position: absolute;\r\n  right: 20px;\r\n  top: 50%;\r\n  transform: translateY(-50%); /* 讓圖示垂直居中 */\r\n  cursor: pointer;\r\n}\r\n\r\n.content-top {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding-top: 20px;\r\n}\r\n.content-top-right {\r\n  display: flex;\r\n  right: 0px;\r\n  margin-left: auto; /* 推到右邊 */\r\n  color: #555555;\r\n}\r\n\r\n.widget-title {\r\n  padding: 20px 0px 20px 30px;\r\n}\r\n\r\n.widget_categories ul li {\r\n  list-style-type: none;\r\n  font-weight: 600;\r\n  border: 1px solid #ddd; /* 添加一個淺灰色的邊線 */\r\n  padding: 3px; /* 增加內部填充，使邊線不緊貼內容 */\r\n  margin: 13px;\r\n  margin-left: 0px;\r\n  text-align: left;\r\n}\r\n.widget_categories ul li a {\r\n  text-decoration: none; /* 去除 a 標籤的下劃線 */\r\n  font-size: 15px;\r\n  display: block;\r\n  padding: 7px 10px 7px 25px;\r\n  line-height: 24px;\r\n  color: #777;\r\n}\r\n.widget_categories ul li.active a {\r\n  font-weight: bold; /* 加粗字體 */\r\n  background-color: #e6e6e6; /* 添加背景色 */\r\n  border-color: #000; /* 改變邊框顏色 */\r\n}\r\n\r\n.main-title {\r\n  font-size: 18px;\r\n  color: #555555;\r\n}\r\n.breadcrumb li{\r\n  margin-left: 5px;\r\n}\r\n.home-router-li {\r\n  text-decoration: none;\r\n  color: inherit;\r\n}\r\n\r\n.product-grid {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px; /* 控制商品間的間距 */\r\n  padding-top: 10px;\r\n}\r\n\r\n.product-item {\r\n  flex: 1 1 calc(33.333% - 20px); /* 使每個商品占三分之一的寬度 */\r\n  box-sizing: border-box;\r\n  padding: 10px;\r\n  background: #f9f9f9;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n}\r\n\r\n.product-item-list {\r\n  cursor: pointer;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.product-item-list:hover {\r\n  transform: scale(1.05); /* 放大 5% */\r\n}\r\n\r\n.title-cart {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.title-cart .btn {\r\n  color: #777;\r\n  border: none; /* 移除邊框 */\r\n  box-shadow: none; /* 移除按鈕的陰影，避免點擊後有陰影效果 */\r\n  outline: none; /* 避免點擊後有外框 */\r\n}\r\n\r\n.title-cart .btn:focus {\r\n  outline: none; /* 移除點擊後的外框 */\r\n  box-shadow: none; /* 移除點擊後的陰影 */\r\n}\r\n.title-cart .btn i {\r\n  font-size: 16px;\r\n}\r\n.title-cart i {\r\n  color: #cc6c6c;\r\n}\r\n.title-cart i:hover {\r\n  color: #debaba;\r\n}\r\n.product-item p {\r\n  padding-top: 15px;\r\n  font-size: 15px;\r\n}\r\n.product-item p:hover {\r\n  color: #636161d5;\r\n  padding-top: 15px;\r\n}\r\n\r\n.product-placeholder {\r\n  flex: 1 1 calc(33.333% - 20px);\r\n  visibility: hidden; /* 隐藏占位符元素，但占空間 */\r\n}\r\n\r\n.price {\r\n  margin: 10px 0;\r\n  display: flex;\r\n}\r\n\r\n.btn-group-sm .btn {\r\n  margin-right: 5px;\r\n}\r\n.h5, .h6, .h7 {\r\n  font-size: 16px;\r\n}\r\n\r\n.h7 {\r\n  color: #CE0000;\r\n}\r\n@media (max-width: 768px) {\r\n  /* 調整 .container-inside 的顯示方式 */\r\n  .container-inside {\r\n    flex-direction: column;\r\n  }\r\n\r\n  /* 左側邊欄調整 */\r\n  .left-sidebar {\r\n    width: 100%; /* 使邊欄佔據整個螢幕寬度 */\r\n    margin-bottom: 20px; /* 增加下方距離 */\r\n  }\r\n\r\n  .left-sidebar hr {\r\n    width: 90%; /* 增加 hr 的寬度 */\r\n    margin-left: 5%; /* 確保 hr 保持居中 */\r\n  }\r\n\r\n  .search-area {\r\n    margin-left: 0;\r\n    width: 100%; /* 使搜尋區域佔據整個邊欄寬度 */\r\n  }\r\n\r\n  .search-area input {\r\n    width: calc(100% - 40px); /* 調整輸入框寬度以適應搜尋圖示 */\r\n    margin-left: 5%;\r\n  }\r\n\r\n  .search-icon {\r\n    right: 30px; /* 調整搜尋圖示的位置 */\r\n  }\r\n\r\n  .widget_categories ul li {\r\n    margin-left: 5%; /* 調整左邊距 */\r\n    width: 90%; /* 確保分類項目在小螢幕上保持適當的寬度 */\r\n  }\r\n\r\n  .widget-title {\r\n    padding-left: 5%; /* 調整標題的左邊距 */\r\n  }\r\n\r\n  /* 調整右側內容區域 */\r\n  .col-md-9 {\r\n    width: 100%; /* 使右側內容區域佔據整個螢幕寬度 */\r\n    margin-bottom: 20px; /* 增加下方距離 */\r\n  }\r\n\r\n  .content-top {\r\n    flex-direction: column; /* 改為垂直排列 */\r\n    align-items: flex-start; /* 左對齊 */\r\n  }\r\n\r\n  .main-title {\r\n    margin-bottom: 10px; /* 增加下方距離 */\r\n  }\r\n\r\n  .content-top-right {\r\n    margin-left: 0;\r\n  }\r\n\r\n  .breadcrumb {\r\n    margin-top: 10px; /* 增加上方距離 */\r\n  }\r\n\r\n  .product-grid {\r\n    gap: 10px; /* 調整商品間的間距 */\r\n  }\r\n\r\n  .product-item {\r\n    flex: 1 1 100%; /* 每個商品佔據整個螢幕寬度 */\r\n    padding: 5px; /* 減少內邊距 */\r\n  }\r\n\r\n  .product-item-list {\r\n    height: auto; /* 使商品圖片自適應高度 */\r\n  }\r\n\r\n  .title-cart {\r\n    flex-direction: column; /* 使商品標題與購物車按鈕垂直排列 */\r\n    align-items: flex-start; /* 左對齊 */\r\n  }\r\n\r\n  .title-cart p {\r\n    margin-bottom: 10px; /* 增加下方距離 */\r\n  }\r\n\r\n  .title-cart .btn {\r\n    margin-top: 5px; /* 增加上方距離 */\r\n  }\r\n\r\n  .price {\r\n    flex-direction: column; /* 價格信息垂直排列 */\r\n    align-items: flex-start; /* 左對齊 */\r\n  }\r\n\r\n  .h5, .h6, .h7 {\r\n    font-size: 14px; /* 調整字體大小 */\r\n  }\r\n\r\n  .product-placeholder {\r\n    display: none; /* 在手機版上隱藏占位符 */\r\n  }\r\n}\r\n</style>\r\n\r\n<script>\r\nimport cartMixin from '@/mixins/cartMixin'\r\n\r\nexport default {\r\n  emits: ['cart-updated'], // 在此處聲明自定義事件\r\n  data () {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n      searchQuery: '', // 用來儲存輸入框的搜尋字串\r\n      search: '',\r\n      selectedCategory: '全部',\r\n      activeCategory: '全部', // 新增此變數來追蹤當前被點選的分類\r\n      isLoading: false,\r\n      cart: {},\r\n      showCart: false, // 控制購物車內容顯示的狀態變數\r\n      selectedSortOrder: '', // 預設排序方式\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      favoriteItems: [] // 用於存儲已加入最愛的商品 ID\r\n    }\r\n  },\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.isLoading = true\r\n      this.$http.get(url)\r\n        .then((response) => {\r\n          this.products = response.data.products\r\n          console.log('products:', response)\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    getProduct (id) {\r\n      this.$router.push(`/user/product/${id}`)\r\n    },\r\n    performSearch () {\r\n      this.search = this.searchQuery // 更新搜尋字串，觸發 filteredProducts 的重新計算\r\n    },\r\n    // 選擇分類\r\n    filterByCategory (category) {\r\n      this.selectedCategory = category\r\n      this.activeCategory = category // 設定當前被點選的分類\r\n    },\r\n    addCart (id) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.status.loadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(url, { data: cart })\r\n        .then((res) => {\r\n          this.status.loadingItem = ''\r\n          console.log('addcart-res', res)\r\n          return this.getCart() // 確保返回的 Promise 是 this.getCart()\r\n        })\r\n        .then((res) => {\r\n          this.$emit('cart-updated', this.cart) // 發射事件通知父組件\r\n          console.log('觸發addCart', this.cartItemCount)\r\n        })\r\n    },\r\n    sortProducts () {\r\n      switch (this.selectedSortOrder) {\r\n        case 'priceAsc':\r\n          this.products.sort((a, b) => a.price - b.price)\r\n          break\r\n        case 'priceDesc':\r\n          this.products.sort((a, b) => b.price - a.price)\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    addFavorite (id) {\r\n      const favorites = JSON.parse(localStorage.getItem('favoriteItems')) || []\r\n      if (!favorites.includes(id)) {\r\n        favorites.push(id)\r\n        localStorage.setItem('favoriteItems', JSON.stringify(favorites))\r\n        this.favoriteItems = favorites // 更新狀態\r\n      } else {\r\n        // 如果已存在則從清單中移除\r\n        const index = favorites.indexOf(id)\r\n        if (index > -1) {\r\n          favorites.splice(index, 1)\r\n          localStorage.setItem('favoriteItems', JSON.stringify(favorites))\r\n          this.favoriteItems = favorites // 更新狀態\r\n        }\r\n      }\r\n      console.log('favorite emit:', id)\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n    this.favoriteItems = JSON.parse(localStorage.getItem('favoriteItems')) || [] // 從localStorage中初始化\r\n  },\r\n  computed: {\r\n    // 提取所有唯一的 category\r\n    // Set 是 JavaScript 的一種數據結構，它只允許唯一值（即不能有重複的值）\r\n    uniqueCategories () {\r\n      const categories = this.products.map((product) => product.category)\r\n      return ['全部', ...new Set(categories)]\r\n    },\r\n    // 過濾商品，顯示選中的分類\r\n    filteredProducts () {\r\n      return this.products.filter(product => {\r\n        const matchesCategory = this.selectedCategory === '全部' || product.category === this.selectedCategory\r\n        const matchesSearch = !this.search || product.title.toLowerCase().includes(this.search.toLowerCase())\r\n        return matchesCategory && matchesSearch\r\n      })\r\n    }\r\n  },\r\n  mixins: [cartMixin]\r\n}\r\n</script>\r\n","import { render } from \"./UserList.vue?vue&type=template&id=1a28539a\"\nimport script from \"./UserList.vue?vue&type=script&lang=js\"\nexport * from \"./UserList.vue?vue&type=script&lang=js\"\n\nimport \"./UserList.vue?vue&type=style&index=0&id=1a28539a&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","id","_createElementVNode","for","value","disabled","_hoisted_15","_hoisted_16","_hoisted_17","key","role","_hoisted_31","_createElementBlock","_Fragment","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","type","name","placeholder","_cache","$event","searchQuery","onClick","args","$options","performSearch","_hoisted_7","_renderList","uniqueCategories","item","index","_normalizeClass","activeCategory","href","_withModifiers","filterByCategory","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","selectedSortOrder","onChange","sortProducts","_hoisted_18","_hoisted_19","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","filteredProducts","_hoisted_24","style","_normalizeStyle","backgroundImage","imageUrl","getProduct","_hoisted_25","_hoisted_26","title","_hoisted_27","_hoisted_28","status","loadingItem","addCart","_hoisted_30","_hoisted_32","_createCommentVNode","_hoisted_33","_hoisted_29","favoriteItems","includes","addFavorite","_hoisted_34","_hoisted_35","price","_hoisted_36","_toDisplayString","origin_price","_hoisted_37","_hoisted_38","length","n","_hoisted_39","emits","data","products","product","search","selectedCategory","cart","showCart","methods","getProducts","page","url","this","$http","get","then","response","console","log","$router","push","category","product_id","qty","post","res","getCart","$emit","cartItemCount","sort","a","b","favorites","JSON","parse","localStorage","getItem","indexOf","splice","setItem","stringify","created","computed","categories","map","Set","filter","matchesCategory","matchesSearch","toLowerCase","mixins","cartMixin","__exports__","render"],"sourceRoot":""}